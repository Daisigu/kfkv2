
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://bootswatch.com/5/minty/bootstrap.css">
    <link href="https://fonts.googleapis.com/css2?family=Cuprum&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>




    <div class="adminUsers__page pt-5 pb-5" id="adminUsers">
        <div class="container">
            <div class="row">
                <transition name="slide-fade">
                    <!-- LIST WITH USERS CARDS -->
                    <div class="col-sm-12 col-lg-4 users-cards-list " v-if="usersCards.length !== 0">
                        <input type="text" class="form-control mb-3 " placeholder="Поиск"
                            aria-describedby="button-addon2" v-model="searchValue">
                        <div class="list-group">
                            <div class="list-group-item" v-for="user in filteredUsersCards"
                                v-on:click="usersCardId = user.Id; getUser()"
                                :class="{ active: usersCardId == user.Id }">
                                <div class="d-flex w-100 justify-content-between">
                                    <h5 class="mb-1">{{ user.FIO }}</h5>
                                    <small>{{ user.Birthdate }}</small>
                                </div>
                                <small>{{ user.Position }}</small>
                                <small v-if="user.Blocked == true" class="badge bg-danger">Заблокирован</small>
                            </div>
                        </div>
                    </div>
                </transition>
                <!-- USERS CARDS DETAILS -->
                <div class="col-sm-12 col-lg-8 users-cards-details">
                    <h4 v-if="user.Id == undefined">Выберите пользователя</h4>
                 <div class="users-cards-change-details">
                    <transition name="slide-fade">
                        <div class="card-wrapper" v-if="usersCardId !== null">
                            <form action="">
                                <div class="user-card">
                                    <div class="list-group justify-content-center align-items-center">
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Имя </p>
                                                <input type="text" class="form-control" :value="user.FirstName"
                                                    aria-label="FirstName">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Фамилия </p>
                                                <input type="text" class="form-control" :value="user.LastName"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Отчество </p>
                                                <input type="text" class="form-control" :value="user.Patronymic"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Дата рождения</p>
                                                <input type="date" class="form-control" :value="user.Birthdate"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Номер телефона</p>
                                                <input type="text" class="form-control" :value="user.NumberPhone"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Серия паспорта</p>
                                                <input type="text" class="form-control" :value="user.SeriesPasport"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Номер паспорта</p>
                                                <input type="text" class="form-control" :value="user.NumberPasport"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Блокирован</p>
                                                <input type="checkbox" class="form-check-input" aria-label="Username"
                                                    v-bind="{ checked: user.Blocked == true }">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Логин</p>
                                                <input type="text" class="form-control" :value="user.Login"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Пароль</p>
                                                <input type="text" class="form-control" :value="user.Password"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Офис</p>
                                                <select class="form-select" aria-label="Default select example">
                                                    <option v-bind="{ selected: user.OfficeId == select.Id }"
                                                        v-for="select in offices">{{ select.Name }}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Группы</p>
                                                <div class="form-check-wrapper">
                                                    <div class="form-check" v-for="radio in groups">
                                                        <input class="form-check-input" type="radio"
                                                            name="flexRadioDefault"
                                                            v-bind="{ checked: user.GroupId == radio.Id }"
                                                            id="flexRadioDefault1">
                                                        <label class="form-check-label" for="flexRadioDefault1">
                                                            {{ radio.Description }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Права</p>
                                                <div class="rights-checkbox-wrapper">
                                                    <div class="form-check" v-for="right in rights">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                            id="flexCheckDefault"
                                                            v-bind="{ checked:  == true }">
                                                        <label class="form-check-label" for="flexCheckDefault">
                                                            {{ right.Description }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-success admin-submit-button"
                                            type="submit">Сохранить</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </transition>
                 </div>



<!-- 
                 <div class="users-cards-add-details">
                    <transition name="slide-fade">
                        <div class="card-wrapper" v-if="usersCardId !== null">
                            <form action="">
                                <div class="user-card">
                                    <div class="list-group justify-content-center align-items-center">
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Имя </p>
                                                <input type="text" class="form-control" 
                                                    aria-label="FirstName">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Фамилия </p>
                                                <input type="text" class="form-control" 
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Отчество </p>
                                                <input type="text" class="form-control"
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Дата рождения</p>
                                                <input type="date" class="form-control" 
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Номер телефона</p>
                                                <input type="text" class="form-control" 
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Серия паспорта</p>
                                                <input type="text" class="form-control" 
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Номер паспорта</p>
                                                <input type="text" class="form-control" 
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Блокирован</p>
                                                <input type="checkbox" class="form-check-input" aria-label="Username"
                                                    >
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Логин</p>
                                                <input type="text" class="form-control" 
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Пароль</p>
                                                <input type="text" class="form-control" 
                                                    aria-label="Username">
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Офис</p>
                                                <select class="form-select" aria-label="Default select example">
                                                    <option v-bind="{ selected: select.Member == true }"
                                                        v-for="select in user.Offices">{{ select.Name }}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Группы</p>
                                                <div class="form-check-wrapper">
                                                    <div class="form-check" v-for="radio in user.Groups">
                                                        <input class="form-check-input" type="radio"
                                                            name="flexRadioDefault"
                                                            v-bind="{ checked: radio.Member == true }"
                                                            id="flexRadioDefault1">
                                                        <label class="form-check-label" for="flexRadioDefault1">
                                                            {{ radio.Description }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list-group-item col-12">
                                            <div class="d-flex align-items-center">
                                                <p class="m-0 p-2 col-5">Права</p>
                                                <div class="rights-checkbox-wrapper">
                                                    <div class="form-check" v-for="rights in user.Rights">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                            id="flexCheckDefault"
                                                            v-bind="{ checked: rights.Enabled == true }">
                                                        <label class="form-check-label" for="flexCheckDefault">
                                                            {{ rights.Description }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-success admin-submit-button"
                                            type="submit">Сохранить</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </transition>
                 </div>
 -->





                </div>
            </div>
        </div>
    </div>












    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"
        integrity="sha512-xIPqqrfvUAc/Cspuj7Bq0UtHNo/5qkdyngx6Vwt+tmbvTLDszzXM0G6c91LXmGrRx8KEPulT+AfOOez+TeVylg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js
        integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous">
    </script>

    <script>
        var app4 = new Vue({
    el: '#adminUsers',
    data(){
        return{
            searchValue: '',
            usersCards: [],
            usersCardId: null,
            user:{},
            groups: [],
            rights: [],
            offices: [],
        }
    },
    methods: {
        getUser(){
            axios.post('http://192.168.71.142/Admin/GetUser/?Id='+this.usersCardId).then((res)=>{
                this.user=res.data.data.User
            })
        },
        getUsersCards(){
            axios.post('http://192.168.71.142/Admin/GetUsersCards').then((res)=>{
                console.log(res);
                this.usersCards=res.data.data.UsersCards;
                this.groups=res.data.data.Groups
                this.rights=res.data.data.Rights
                this.offices=res.data.data.Offices
            }) 
        },
    },
    mounted(){
        this.getUsersCards()
    },
    computed:{
        filteredUsersCards() {
                if (this.searchValue) {
                    return this.usersCards.filter(item => {
                        return item.FIO.toLowerCase().includes(this.searchValue.toLowerCase());
                    });
                }
                return this.usersCards
            }
    },
    
})
    </script>

    <style>
        .slide-fade-enter-active {
            transition: all .3s ease;
        }

        .slide-fade-leave-active {
            transition: all .3s cubic-bezier(1.0, 0.5, 0.8, 1.0);
        }

        .list-group-item {
            cursor: pointer;
        }

        .card-wrapper {
            border: 1px solid rgb(226, 226, 226);
            border-radius: 10px;
            padding: 15px;
        }

        .admin-submit-button {
            margin-top: 10px;
        }

        .slide-fade-enter,
        .slide-fade-leave-to

        /* .slide-fade-leave-active below version 2.1.8 */
            {
            transform: translateX(10px);
            opacity: 0;
        }

        * {
            font-family: 'Cuprum', sans-serif !important;
        }
    </style>
